@if (config?.showConfigurator) {
  <sctl-floating-theme-configurator />
}

<sctl-auth-card [config]="{ headerConfig: config?.headerConfig }">
  <form [formGroup]="loginForm" body>
    <div class="mb-6">
      <label for="login-email" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">
        {{config?.emailLabel}}
      </label>
      <input pInputText class="w-full md:w-120"
        id="login-email" 
        type="text"
        formControlName="email"
        [placeholder]="config?.emailPlaceholder"
      />
      <sctl-input-error [config]="config?.formErrors?.email"></sctl-input-error>
    </div>

    <div class="mb-6">
      <label for="login-password" class="block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2">
        {{config?.passwordLabel}}
      </label>
      <p-password
        id="login-password"
        formControlName="password"
        [placeholder]="config?.passwordPlaceholder"
        [toggleMask]="true"
        [fluid]="true"
        [feedback]="false">
      </p-password>
      <sctl-input-error [config]="config?.formErrors?.password"></sctl-input-error>
    </div>

    @if (config?.rememberMeEnabled) {
      <div class="flex items-center justify-start mt-2 mb-6 gap-8">
        <div class="flex items-center">
          <p-checkbox binary class="mr-2" id="login-rememberme" formControlName="rememberMe"></p-checkbox>
          <label for="login-rememberme">{{config?.rememberMeLabel}}</label>
        </div>
      </div>
    }

    @if (config?.links?.length > 0) {
      <div class="flex flex-col items-center justify-center mt-2 mb-6 gap-8">
        @for(link of config?.links; track link) {
          <span class="font-medium no-underline ml-2 text-right text-primary cursor-pointer" (click)="onClickLink(link.linkUrl)">
            {{link.linkLabel}}
          </span>
        }
      </div>
    }

    <p-button 
      [label]="config?.buttonLabel"
      [disabled]="loginForm?.invalid"
      styleClass="w-full {{ config?.links?.length > 0 ? 'mt-4' : '' }}" 
      (click)="onClickButton()"
    ></p-button>
  </form>
</sctl-auth-card>